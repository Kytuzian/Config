#!/usr/bin/env bash

which stack > /dev/null
if [[ "$rc" -ne "0" ]]; then
    wget -qO- https://get.haskellstack.org/ | sh

    stack config set resolver lts-11.5
    stack upgrade
    stack update
    stack setup
fi

contents="`cat ~/Config/files/stack.yaml`"
echo "${contents//"{HOME}"/`echo ~`}" > ~/.stack/global-project/stack.yaml

# Make sure we have vundle so vim will be nice.
if [[ -d "~/.vim/bundle/Vundle.vim" ]]; then
    git clone https://github.com/VundleVim/Vundle.vim.git ~/.vim/bundle/Vundle.vim
fi

# Make sure git has been configured.
if [[ -z "`git config --get user.name`" ]]; then
    git config --global user.name "Reed Oei"
fi

if [[ -z "`git config --get user.email`" ]]; then
    git config --global user.email "oei.reed@gmail.com"
fi

cp ~/Config/files/ghci.conf ~/.ghc/ghci.conf
cp ~/Config/files/.gitconfig ~/.gitconfig

